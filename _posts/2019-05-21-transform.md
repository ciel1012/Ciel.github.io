---
layout:     post
title:      "Transforms"
subtitle:   "\"《Real-Time Rendering 4th》笔记——第四章 转换\""
date:       2019-05-21
author:     "Ciel"
header-img: "img/post-bg-rtr.jpg"
tags:
    - Real-Time Rendering
    - 笔记
---

# Transforms

> 本章介绍了转换的基本知识，这是处理几何图形的基本工具。从基本的仿射变换开始，还讨论了矩阵、四元数、顶点混合、变形和投影矩阵。理解这些，有助于辨别如何处理计算，提高代码效率。本章涉及许多线性代数相关内容。

1. [Basic Transforms 基础转换](#基础转换)

2. [Special Matrix Transforms and Operations 特殊矩阵变换和运算](#特殊矩阵变换和运算)

3. [Quaternions 四元数](#四元数)

4. [Vertex Blending 顶点混合](#顶点混合)

5. [Morphing 变形](#变形)

6. [Geometry Cache Playback 几何缓存回放](#几何缓存回放)

7. [Projection 投影](#投影)

### 基础转换

- 线性变换是一种保留向量加法和标量乘法的变换。满足以下公式：

![\img\in-post\rtr4\e1](\img\in-post\rtr4\e1.jpg)

- 使用齐次表示法，方向向量表示为**v** = (vx,vy,vz,0),点表示为**v** = (vx,vy,vz,1)。

- 所有平移、旋转、缩放、反射和剪切矩阵都是仿射矩阵（affine）。仿射矩阵的主要特征是它保持了直线的并行性，但长度和角度不一定。仿射变换也可以是单个仿射变换的任意序列。

- 正交矩阵的逆就是其转置矩阵。

![\img\in-post\rtr4\t1](\img\in-post\rtr4\t1.jpg)

表4.1，本章讨论的大多数转换的摘要。

#### 4.1.1 Translation 平移

- 从一个位置到另一个位置的变化用一个平移矩阵T表示。这个矩阵用一个向量**t** = (tx, ty, tz)来转换一个实体。

![\img\in-post\rtr4\e2](\img\in-post\rtr4\e2.jpg)

- 如下图，给出了一个平移变换例子。注意，方向向量**v**= (vx,vy,vz,0)不受乘以**T**的影响，因为方向向量不能被平移。相反，点和向量都受到其余仿射变换的影响。平移矩阵的逆矩阵$T^1(t)=T(-t)$ ，也就是说向量**t**是负的。

![\img\in-post\rtr4\4-1](\img\in-post\rtr4\4-1.jpg)

原书图4.1，左边的正方形用一个平移矩阵**T**(5,2,0)进行变换，其中正方形向右移动5个距离单位，向上移动2个距离单位。

- 有时在计算机图形学中看到，使用矩阵中平移向量在底部行，例如DirectX使用这种形式。在这种方案中，应用程序将从左到右读取矩阵。这样的向量和矩阵被称为行主形式，因为这些向量是行向量。在这本书中，使用了列主形式。无论使用哪一种，都是纯粹的符号分歧，当矩阵存储在内存中时，这16个值的后4个值是三个平移值，后面跟着一个1。

#### 4.1.2 Rotation 旋转

### 特殊矩阵变换和运算

### 四元数

### 顶点混合

### 变形

### 几何缓存回放

### 投影
